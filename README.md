# Тестер I2C/SMBus/PMBus

Тестер для опроса серверных блоков питания стандарта CRPS, использующих протокол PMBus/SMBus/I2C.
Разработан на базе Raspberry Pi Pico с использованием MicroPython.
Управление осуществляется через интерактивный CLI-интерфейс по виртуальному COM-порту (USB CDC).

## Технические характеристики

- Платформа: Raspberry Pi Pico (RP2040)
- Язык программирования: MicroPython
- Скорость I2C: 50 кГц 
- Подключение к блоку питания или любому устройству I2C:
    SCL — GPIO 1
    SDA — GPIO 0 
    GND — общий с устройством
- Интерфейс управления: USB CDC (терминал через виртуальный COM-порт)

## Command Line Interface (CLI)

После запуска на Pico появляется CLI-интерфейс. Ниже список доступных команд:

### Общие команды
```
help                      - показать список команд
exit                      - выйти из CLI
scan                      - просканировать I2C-шину и вывести найденные адреса
showaddr                  - показать текущие адреса PMBus и EEPROM
addr pmbus <hex>          - установить адрес PMBus устройства 
addr eeprom <hex>         - установить адрес EEPROM 
```

### Низкоуровневый доступ
```
read <reg> <len>          - прочитать <len> байт из регистра <reg>
write <reg> <val1> ...    - записать значения в регистр
readpec <reg> <len>       - чтение с PEC (Packet Error Checking)
writepec <reg> <val1> ... - запись с PEC
```

### Диагностика и чтение параметров блоков питания CRPS
```
check <cmd>               - проверить, поддерживается ли команда 
params                    - вывести основные параметры (напряжение, ток, температура и т.д.)
status                    - расшифровать и отобразить все статусные регистры
<MFR_COMMAND_NAME>        - вывести конкретный параметр по имени команды (например, MFR_VIN_MIN)
```

## Порядок работы
1. Просканировать шину с помощью команды ``scan`` (можно пропустить если адрес известен, то переходим на п. 2)
2. Задать адрес ведомого устройства с помощью ```addr```
3. Выполнять любые команды



